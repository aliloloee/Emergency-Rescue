{% extends "base.html" %}
{% load static %}


{% block title %}Emergency Rescue{% endblock %}


{% block content %}
<style>
    html, body {
        height: 100%;
        margin: 0;
    }
    #map {
        height: calc(100% - 20px);
        width: calc(100% - 20px); 
        padding: 10px;
    }
</style>

<div id="map"></div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var centerLat = {{ center_lat }};
            var centerLng = {{ center_lng }};
            var emrgencyLat = {{ emergencyLat }};
            var emrgencyLng = {{ emergencyLng }};
            var bounds = [
                [{{ bounds.1 }}, {{ bounds.0 }}],  // Southwest corner (minLat, minLng)
                [{{ bounds.3 }}, {{ bounds.2 }}]   // Northeast corner (maxLat, maxLng)
            ];

            var map = L.map('map').setView([centerLat, centerLng], 12);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

            // Set the view to fit the bounds
           // map.fitBounds(bounds);


            // Add a marker at the center
            var marker = L.marker([emrgencyLat, emrgencyLng]).addTo(map);

            // Add a popup to the marker
            marker.bindPopup("<b>Center of Polygon</b><br>This is the centroid of the polygon.").openPopup();
        });
    </script>


{% endblock %}
